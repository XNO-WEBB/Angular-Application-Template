var app = angular.module("myApplication", ['ngRoute', 'ngAnimate']);

app.config(function($routeProvider)
{

	$routeProvider

	.when('/skills', 
	{
		templateUrl: 'app/components/skills/skillsView.html',
		controller: 'skillsController'
	})

	.when('/experience', 
	{
		templateUrl: 'app/components/experience/experienceView.html',
		controller: 'experienceController'
	})

	.when('/home',
	{
		templateUrl: 'app/components/home/homeView.html',
		controller: 'homeController'
	})

	.otherwise(
	{
		redirectTo: '/home'
	});

});

app.config(function($locationProvider)
{
    $locationProvider.html5Mode(true);
});

app.controller("appController", function(mainService, $scope){
	var vm = this;

	vm.data = mainService.obj;
});

app.factory('mainService', function () {
	var service = {
		obj: {
			mainLocation: 'default'
		}
	};
	return service;
});
app.controller("experienceController", function(mainService, $scope){
	var vm = this;

	mainService.obj.mainLocation = 'regular';
});
app.controller("homeController", function(mainService, $scope){
	var vm = this;

	mainService.obj.mainLocation = 'regular';

	vm.languages = [
		'php',
		'angular',
		'jquery',
		'gulp',
		'laravel',
		'grunt',
		'javascript',
		'vagrant',
		'cisco',
		'servers',
	];
});
app.controller("skillsController", function(mainService, $scope){
	var vm = this;

	mainService.obj.mainLocation = 'posts';
});
app.controller("navbarController", function(){
	// $('.navigation-wrapper').affix({
	//   offset: {
	//     top: 20,
	//   }
	// });

	$('.navigation-blob').on('click', function() {
		$('.navigation-blob-wrapper').toggleClass('active');
	});
});
app.directive("navbar", function(){
	return {
		restrict: 		'E',
		templateUrl: 	"app/shared/navbar/navbarView.html",
		controller: 	"navbarController",
		controllerAs: 	"navbar"
	};
});
